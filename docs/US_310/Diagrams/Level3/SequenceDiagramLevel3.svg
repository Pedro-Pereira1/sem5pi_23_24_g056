<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="762px" preserveAspectRatio="none" style="width:1220px;height:762px;background:#FFFFFF;" version="1.1" viewBox="0 0 1220 762" width="1220px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="573.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="73" y="100.9609"/><rect fill="#FFFFFF" height="496.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="268" y="131.3125"/><rect fill="#FFFFFF" height="333.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="435" y="192.0156"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="627" y="252.7188"/><rect fill="#FFFFFF" height="333.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="722.5" y="161.6641"/><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="911" y="313.4219"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:1.5;" width="341.5" x="21.5" y="540.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="77.5" x2="77.5" y1="68.6094" y2="683.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="273" x2="273" y1="68.6094" y2="683.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="439.5" x2="439.5" y1="68.6094" y2="683.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="549.5" x2="549.5" y1="68.6094" y2="683.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="631.5" x2="631.5" y1="68.6094" y2="683.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="727.5" x2="727.5" y1="68.6094" y2="683.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="820.5" x2="820.5" y1="68.6094" y2="683.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="915.5" x2="915.5" y1="68.6094" y2="683.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="993.5" x2="993.5" y1="68.6094" y2="683.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1062.5" x2="1062.5" y1="68.6094" y2="683.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1131.5" x2="1131.5" y1="68.6094" y2="683.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1190.5" x2="1190.5" y1="68.6094" y2="683.125"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="31.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="38.5" y="57.5332">:RoomRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="31.5" y="682.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="38.5" y="703.6582">:RoomRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="193" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="200" y="57.5332">:CreateRoomController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="193" y="682.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="200" y="703.6582">:CreateRoomController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="367.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="374.5" y="57.5332">:CreateRoomService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="367.5" y="682.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="374.5" y="703.6582">:CreateRoomService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="522.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="529.5" y="57.5332">:Room</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="522.5" y="682.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="529.5" y="703.6582">:Room</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="587.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="594.5" y="57.5332">:RoomRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="587.5" y="682.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="594.5" y="703.6582">:RoomRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="686.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="693.5" y="57.5332">:RoomMap</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="686.5" y="682.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="693.5" y="703.6582">:RoomMap</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85" x="778.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="785.5" y="57.5332">:RoomDTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85" x="778.5" y="682.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="785.5" y="703.6582">:RoomDTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85" x="873.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="880.5" y="57.5332">:FloorRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85" x="873.5" y="682.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="880.5" y="703.6582">:FloorRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="968.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="975.5" y="57.5332">:Floor</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="968.5" y="682.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="975.5" y="703.6582">:Floor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1029.5" y="65.5332">Database</text><path d="M1045,15 C1045,5 1063,5 1063,5 C1063,5 1081,5 1081,15 L1081,41 C1081,51 1063,51 1063,51 C1063,51 1045,51 1045,41 L1045,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1045,15 C1045,25 1063,25 1063,25 C1063,25 1081,25 1081,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1029.5" y="696.6582">Database</text><path d="M1045,709.7344 C1045,699.7344 1063,699.7344 1063,699.7344 C1063,699.7344 1081,699.7344 1081,709.7344 L1081,735.7344 C1081,745.7344 1063,745.7344 1063,745.7344 C1063,745.7344 1045,745.7344 1045,735.7344 L1045,709.7344 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1045,709.7344 C1045,719.7344 1063,719.7344 1063,719.7344 C1063,719.7344 1081,719.7344 1081,709.7344 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="1106.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="1113.5" y="57.5332">Room</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="1106.5" y="682.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="1113.5" y="703.6582">Room</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="47" x="1167.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1174.5" y="57.5332">Floor</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="47" x="1167.5" y="682.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1174.5" y="703.6582">Floor</text><rect fill="#FFFFFF" height="573.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="73" y="100.9609"/><rect fill="#FFFFFF" height="496.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="268" y="131.3125"/><rect fill="#FFFFFF" height="333.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="435" y="192.0156"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="627" y="252.7188"/><rect fill="#FFFFFF" height="333.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="722.5" y="161.6641"/><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="911" y="313.4219"/><ellipse cx="4.5" cy="100.2109" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="61,96.9609,71,100.9609,61,104.9609,65,100.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="9" x2="67" y1="100.9609" y2="100.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="12" y="96.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="23" y="96.1045">POST</text><polygon fill="#181818" points="256,127.3125,266,131.3125,256,135.3125,260,131.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="83" x2="262" y1="131.3125" y2="131.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="90" y="126.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="101" y="126.4561">createRoom(req, res, next)</text><polygon fill="#181818" points="710.5,157.6641,720.5,161.6641,710.5,165.6641,714.5,161.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="278" x2="716.5" y1="161.6641" y2="161.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="285" y="156.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="296" y="156.8076">toDto(req.body)</text><polygon fill="#181818" points="423,188.0156,433,192.0156,423,196.0156,427,192.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="278" x2="429" y1="192.0156" y2="192.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="285" y="187.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="296" y="187.1592">createRoom(roomDto)</text><polygon fill="#181818" points="1120,218.3672,1130,222.3672,1120,226.3672,1124,222.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="1126" y1="222.3672" y2="222.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="452" y="217.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="463" y="217.5107">room = create(roomProps)</text><polygon fill="#181818" points="615,248.7188,625,252.7188,615,256.7188,619,252.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="621" y1="252.7188" y2="252.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="452" y="247.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="463" y="247.8623">save(room)</text><polygon fill="#181818" points="1051,279.0703,1061,283.0703,1051,287.0703,1055,283.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="632" x2="1057" y1="283.0703" y2="283.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="639" y="278.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="650" y="278.2139">save</text><polygon fill="#181818" points="899,309.4219,909,313.4219,899,317.4219,903,313.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="905" y1="313.4219" y2="313.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="452" y="308.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="463" y="308.5654">floor = find(floor)</text><polygon fill="#181818" points="456,339.7734,446,343.7734,456,347.7734,452,343.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="450" x2="910" y1="343.7734" y2="343.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="462" y="338.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="473" y="338.917"> </text><polygon fill="#181818" points="1179,370.125,1189,374.125,1179,378.125,1183,374.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="1185" y1="374.125" y2="374.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="452" y="369.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="470" y="369.2686">addRoom(room)</text><polygon fill="#181818" points="899,400.4766,909,404.4766,899,408.4766,903,404.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="905" y1="404.4766" y2="404.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="452" y="399.6201">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="470" y="399.6201">save(floor)</text><polygon fill="#181818" points="1051,430.8281,1061,434.8281,1051,438.8281,1055,434.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="916" x2="1057" y1="434.8281" y2="434.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="923" y="429.9717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="941" y="429.9717">save</text><polygon fill="#181818" points="710.5,461.1797,720.5,465.1797,710.5,469.1797,714.5,465.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="716.5" y1="465.1797" y2="465.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="452" y="460.3232">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="470" y="460.3232">toDto(room)</text><polygon fill="#181818" points="809,491.5313,819,495.5313,809,499.5313,813,495.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="727.5" x2="815" y1="495.5313" y2="495.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="734.5" y="490.6748">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="752.5" y="490.6748">create</text><polygon fill="#181818" points="289,521.8828,279,525.8828,289,529.8828,285,525.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="283" x2="439" y1="525.8828" y2="525.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="295" y="521.0264">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="313" y="521.0264"> </text><path d="M21.5,540.8828 L82.5,540.8828 L82.5,549.2344 L72.5,559.2344 L21.5,559.2344 L21.5,540.8828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:1.5;" width="341.5" x="21.5" y="540.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="36.5" y="555.3779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="55" x="97.5" y="554.3018">[success]</text><polygon fill="#181818" points="94,577.5859,84,581.5859,94,585.5859,90,581.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="88" x2="267" y1="581.5859" y2="581.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="100" y="576.7295">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="118" y="576.7295">code 201</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="21.5" x2="363" y1="590.5859" y2="590.5859"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="65" x="26.5" y="602.0049">[insuccess]</text><polygon fill="#181818" points="94,623.7734,84,627.7734,94,631.7734,90,627.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="88" x2="272" y1="627.7734" y2="627.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="100" y="622.917">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="118" y="622.917">code 402</text><polygon fill="#181818" points="11,661.125,1,665.125,11,669.125,7,665.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="72" y1="665.125" y2="665.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="660.2686">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="35" y="660.2686"> </text><!--MD5=[cf0d370cd8e8c5cdb4f1cb9fc4ebd2c4]
@startuml

autonumber

participant ":RoomRoute" as Route
participant ":CreateRoomController" as Controller
participant ":CreateRoomService" as Service
participant ":Room"
participant ":RoomRepo" as Repo
participant ":RoomMap" as Map
participant ":RoomDTO" as DTO
participant ":FloorRepo" as FloorRepo
participant ":Floor"
database Database

?o->Route: POST
activate Route

Route -> Controller: createRoom(req, res, next)
activate Controller

Controller -> Map: toDto(req.body)
activate Map

Controller -> Service: createRoom(roomDto)
activate Service


Service -> Room: room = create(roomProps)

Service -> Repo: save(room)
activate Repo

Repo -> Database: save
deactivate Repo

Service -> FloorRepo: floor = find(floor)
activate FloorRepo
Service <- - FloorRepo
Service -> Floor: addRoom(room)
Service -> FloorRepo: save(floor)

FloorRepo-> Database: save
deactivate FloorRepo

Service -> Map:toDto(room)

Map -> DTO: create
deactivate Map

Service - -> Controller:
deactivate Service

alt success
Controller - -> Route: code 201
else insuccess
Controller - -> Route: code 402
deactivate Controller
end alt
<- -Route:



@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>