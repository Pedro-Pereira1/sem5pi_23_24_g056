<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="640px" preserveAspectRatio="none" style="width:1915px;height:640px;background:#FFFFFF;" version="1.1" viewBox="0 0 1915 640" width="1915px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="524.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="64" y="69.9609"/><rect fill="#FFFFFF" height="455.2734" style="stroke:#181818;stroke-width:1.0;" width="10" x="439" y="100.3125"/><rect fill="#FFFFFF" height="394.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="811" y="130.6641"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1052" y="161.0156"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1052" y="282.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1225" y="191.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1225" y="312.7734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1884" y="464.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="68.5" x2="68.5" y1="37.6094" y2="603.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="443.5" x2="443.5" y1="37.6094" y2="603.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="816" x2="816" y1="37.6094" y2="603.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1057" x2="1057" y1="37.6094" y2="603.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1229.5" x2="1229.5" y1="37.6094" y2="603.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1438.5" x2="1438.5" y1="37.6094" y2="603.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1629.5" x2="1629.5" y1="37.6094" y2="603.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1733.5" x2="1733.5" y1="37.6094" y2="603.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1826.5" x2="1826.5" y1="37.6094" y2="603.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1888.5" x2="1888.5" y1="37.6094" y2="603.9375"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="24.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="31.5" y="26.5332">:FloorRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="24.5" y="602.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="31.5" y="624.4707">:FloorRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="307" x="290.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="293" x="297.5" y="26.5332">:ListPassagewaysBetween2BuildingsController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="307" x="290.5" y="602.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="293" x="297.5" y="624.4707">:ListPassagewaysBetween2BuildingsController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="292" x="670" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="278" x="677" y="26.5332">:ListPassagewaysBetween2BuildingsService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="292" x="670" y="602.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="278" x="677" y="624.4707">:ListPassagewaysBetween2BuildingsService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1006" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1013" y="26.5332">:BuildingRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1006" y="602.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1013" y="624.4707">:BuildingRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="1170.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1177.5" y="26.5332">:BuildingSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="1170.5" y="602.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1177.5" y="624.4707">:BuildingSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="278" x="1299.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264" x="1306.5" y="26.5332">:IListPassagewaysBetween2BuildingsDTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="278" x="1299.5" y="602.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264" x="1306.5" y="624.4707">:IListPassagewaysBetween2BuildingsDTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85" x="1587.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1594.5" y="26.5332">:FloorRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85" x="1587.5" y="602.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1594.5" y="624.4707">:FloorRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1682.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1689.5" y="26.5332">:FloorSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1682.5" y="602.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1689.5" y="624.4707">:FloorSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="1794.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1801.5" y="26.5332">Building</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="1794.5" y="602.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1801.5" y="624.4707">Building</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="1868.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="1875.5" y="26.5332">Map</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="1868.5" y="602.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="1875.5" y="624.4707">Map</text><rect fill="#FFFFFF" height="524.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="64" y="69.9609"/><rect fill="#FFFFFF" height="455.2734" style="stroke:#181818;stroke-width:1.0;" width="10" x="439" y="100.3125"/><rect fill="#FFFFFF" height="394.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="811" y="130.6641"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1052" y="161.0156"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1052" y="282.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1225" y="191.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1225" y="312.7734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1884" y="464.5313"/><ellipse cx="4.5" cy="69.2109" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="52,65.9609,62,69.9609,52,73.9609,56,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="9" x2="58" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="12" y="65.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="23" y="65.1045">GET</text><polygon fill="#181818" points="427,96.3125,437,100.3125,427,104.3125,431,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="74" x2="433" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="95.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335" x="92" y="95.4561">listPassagewaysBetween2BuildingsService(req, res, next)</text><polygon fill="#181818" points="799,126.6641,809,130.6641,799,134.6641,803,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="449" x2="805" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="456" y="125.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="332" x="467" y="125.8076">listPassagewaysBetween2BuildingsService(buildingCode)</text><polygon fill="#181818" points="1040,157.0156,1050,161.0156,1040,165.0156,1044,161.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1046" y1="161.0156" y2="161.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="828" y="156.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="839" y="156.1592">findByBuildingCode(building1Code)</text><polygon fill="#181818" points="1213,187.3672,1223,191.3672,1213,195.3672,1217,191.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1062" x2="1219" y1="191.3672" y2="191.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1069" y="186.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="1080" y="186.5107">findOne(building1Code)</text><polygon fill="#181818" points="1073,217.7188,1063,221.7188,1073,225.7188,1069,221.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1067" x2="1229" y1="221.7188" y2="221.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1079" y="216.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1090" y="216.8623"> </text><polygon fill="#181818" points="832,248.0703,822,252.0703,832,256.0703,828,252.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1056" y1="252.0703" y2="252.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="838" y="247.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="849" y="247.2139"> </text><polygon fill="#181818" points="1040,278.4219,1050,282.4219,1040,286.4219,1044,282.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1046" y1="282.4219" y2="282.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="828" y="277.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="839" y="277.5654">findByBuildingCode(building2Code)</text><polygon fill="#181818" points="1213,308.7734,1223,312.7734,1213,316.7734,1217,312.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1062" x2="1219" y1="312.7734" y2="312.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1069" y="307.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="1080" y="307.917">findOne(building2Code)</text><polygon fill="#181818" points="1073,339.125,1063,343.125,1073,347.125,1069,343.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1067" x2="1229" y1="343.125" y2="343.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1079" y="338.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1097" y="338.2686"> </text><polygon fill="#181818" points="832,369.4766,822,373.4766,832,377.4766,828,373.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1056" y1="373.4766" y2="373.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="838" y="368.6201">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="856" y="368.6201"> </text><polygon fill="#181818" points="1814.5,399.8281,1824.5,403.8281,1814.5,407.8281,1818.5,403.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1820.5" y1="403.8281" y2="403.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="828" y="398.9717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="846" y="398.9717">get all passageways of building1</text><polygon fill="#181818" points="1814.5,430.1797,1824.5,434.1797,1814.5,438.1797,1818.5,434.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1820.5" y1="434.1797" y2="434.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="828" y="429.3232">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="779" x="846" y="429.3232">passagewaysList = select from the previous step the passageways that have the same id in building2 and the floor to which it connects</text><polygon fill="#181818" points="1872,460.5313,1882,464.5313,1872,468.5313,1876,464.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1878" y1="464.5313" y2="464.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="828" y="459.6748">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="846" y="459.6748">toDtoList(passagewaysList)</text><polygon fill="#181818" points="1449.5,490.8828,1439.5,494.8828,1449.5,498.8828,1445.5,494.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1443.5" x2="1888" y1="494.8828" y2="494.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1455.5" y="490.0264">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1473.5" y="490.0264">create</text><polygon fill="#181818" points="460,521.2344,450,525.2344,460,529.2344,456,525.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="454" x2="815" y1="525.2344" y2="525.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="466" y="520.3779">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="484" y="520.3779">passageways list</text><polygon fill="#181818" points="85,551.5859,75,555.5859,85,559.5859,81,555.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="443" y1="555.5859" y2="555.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="91" y="550.7295">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="109" y="550.7295">passageways list</text><polygon fill="#181818" points="11,581.9375,1,585.9375,11,589.9375,7,585.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="63" y1="585.9375" y2="585.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="581.0811">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="35" y="581.0811"> </text><!--MD5=[39a6e565504e5ae6b816abd7b42924d6]
@startuml

autonumber

participant ":FloorRoute" as Route
participant ":ListPassagewaysBetween2BuildingsController" as Controller
participant ":ListPassagewaysBetween2BuildingsService" as Service
participant ":BuildingRepo" as BuildingRepo
participant ":BuildingSchema" as BuildingSchema
participant ":IListPassagewaysBetween2BuildingsDTO" as DTO

participant ":FloorRepo" as FloorRepo

participant ":FloorSchema" as Schema


?o->Route: GET
activate Route

Route -> Controller: listPassagewaysBetween2BuildingsService(req, res, next)
activate Controller

Controller -> Service: listPassagewaysBetween2BuildingsService(buildingCode)
activate Service

Service -> BuildingRepo: findByBuildingCode(building1Code)
activate BuildingRepo
BuildingRepo -> BuildingSchema: findOne(building1Code)
activate BuildingSchema
BuildingRepo <- - BuildingSchema
deactivate BuildingSchema
Service <- - BuildingRepo
deactivate BuildingRepo

Service -> BuildingRepo: findByBuildingCode(building2Code)
activate BuildingRepo
BuildingRepo -> BuildingSchema: findOne(building2Code)
activate BuildingSchema
BuildingRepo <- - BuildingSchema
deactivate BuildingSchema
Service <- - BuildingRepo
deactivate BuildingRepo




Service -> Building: get all passageways of building1

Service -> Building: passagewaysList = select from the previous step the passageways that have the same id in building2 and the floor to which it connects



Service -> Map:toDtoList(passagewaysList)
activate Map

Map -> DTO: create
deactivate Map

Service - -> Controller: passageways list
deactivate Service

Controller - -> Route: passageways list
deactivate Controller
<- -Route:



@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>